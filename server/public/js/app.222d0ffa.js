(function(){"use strict";var t={6561:function(t,e,o){var r=o(3751),n=o(641),s=o.p+"img/lakerslogo.c1c3a36b.png";function a(t,e,o,r,a,i){const c=(0,n.g2)("PostComponent");return(0,n.uX)(),(0,n.CE)("div",null,[e[0]||(e[0]=(0,n.Lk)("img",{alt:"Lakers logo",src:s,height:"200"},null,-1)),(0,n.bF)(c)])}var i=o(33);const c={class:"container"},l={class:"create-post"},u={key:0,class:"error"},d={class:"posts-container"},p=["item","index","onDblclick"],f={class:"created-at"},v={class:"text"};function h(t,e,o,s,a,h){return(0,n.uX)(),(0,n.CE)("div",c,[e[4]||(e[4]=(0,n.Lk)("h1",null,"Lakers Central",-1)),(0,n.Lk)("button",{class:"toggle-btn",onClick:e[0]||(e[0]=(...t)=>h.toggleDarkMode&&h.toggleDarkMode(...t))},(0,i.v_)(a.isDarkMode?"â˜€ï¸ Light Mode":"ðŸŒ™ Dark Mode"),1),(0,n.Lk)("div",l,[e[3]||(e[3]=(0,n.Lk)("label",{for:"create-post"},"Say something..",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"create-post","onUpdate:modelValue":e[1]||(e[1]=t=>a.text=t),placeholder:"Create a post"},null,512),[[r.Jo,a.text]]),(0,n.Lk)("button",{onClick:e[2]||(e[2]=(...t)=>h.createPost&&h.createPost(...t))},"Post!")]),e[5]||(e[5]=(0,n.Lk)("hr",null,null,-1)),a.error?((0,n.uX)(),(0,n.CE)("p",u,(0,i.v_)(a.error),1)):(0,n.Q3)("",!0),(0,n.Lk)("div",d,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.posts,((t,e)=>((0,n.uX)(),(0,n.CE)("div",{class:"post",item:t,index:e,key:t._id,onDblclick:e=>h.deletePost(t._id)},[(0,n.Lk)("div",f,(0,i.v_)(new Date(t.createdAt).toLocaleDateString()),1),(0,n.Lk)("p",v,(0,i.v_)(t.text),1)],40,p)))),128))])])}o(8111),o(2489),o(1701);var k=o(4335);const g="api/posts/";class m{static async getPosts(){try{const t=await k.A.get(g),e=t.data;return e.map((t=>({...t,createdAt:new Date(t.createdAt)})))}catch(t){return Promise.reject(t)}}static insertPost(t){return k.A.post(g,{text:t})}static deletePost(t){return k.A.delete(`${g}${t}`)}}var b=m,y={name:"PostComponent",data(){return{posts:[],error:"",text:"",isDarkMode:!1}},async created(){try{this.posts=(await b.getPosts()).reverse()}catch(t){this.error=t.message}},methods:{async createPost(){await b.insertPost(this.text),this.posts=(await b.getPosts()).reverse()},async deletePost(t){try{await b.deletePost(t),this.posts=this.posts.filter((e=>e._id!==t))}catch(e){this.error="Failed to delete post.",console.error(e)}},toggleDarkMode(){this.isDarkMode=!this.isDarkMode,this.isDarkMode?document.body.classList.add("custom-dark-mode"):document.body.classList.remove("custom-dark-mode")}}},P=o(6262);const L=(0,P.A)(y,[["render",h]]);var w=L,x={name:"App",components:{PostComponent:w}};const C=(0,P.A)(x,[["render",a]]);var D=C;o(8424);(0,r.Ef)(D).mount("#app")}},e={};function o(r){var n=e[r];if(void 0!==n)return n.exports;var s=e[r]={exports:{}};return t[r].call(s.exports,s,s.exports,o),s.exports}o.m=t,function(){var t=[];o.O=function(e,r,n,s){if(!r){var a=1/0;for(u=0;u<t.length;u++){r=t[u][0],n=t[u][1],s=t[u][2];for(var i=!0,c=0;c<r.length;c++)(!1&s||a>=s)&&Object.keys(o.O).every((function(t){return o.O[t](r[c])}))?r.splice(c--,1):(i=!1,s<a&&(a=s));if(i){t.splice(u--,1);var l=n();void 0!==l&&(e=l)}}return e}s=s||0;for(var u=t.length;u>0&&t[u-1][2]>s;u--)t[u]=t[u-1];t[u]=[r,n,s]}}(),function(){o.d=function(t,e){for(var r in e)o.o(e,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){o.p="/"}(),function(){var t={524:0};o.O.j=function(e){return 0===t[e]};var e=function(e,r){var n,s,a=r[0],i=r[1],c=r[2],l=0;if(a.some((function(e){return 0!==t[e]}))){for(n in i)o.o(i,n)&&(o.m[n]=i[n]);if(c)var u=c(o)}for(e&&e(r);l<a.length;l++)s=a[l],o.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return o.O(u)},r=self["webpackChunkclient"]=self["webpackChunkclient"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=o.O(void 0,[504],(function(){return o(6561)}));r=o.O(r)})();
//# sourceMappingURL=app.222d0ffa.js.map